#N canvas 347 205 508 339 12;
#X declare -path else;
#X obj 72 47 inlet;
#X obj 72 280 outlet;
#X obj 72 165 else/cents2ratio;
#N canvas 283 74 780 455 init 0;
#X obj 567 263 declare -path else;
#X obj 445 149 s \$0-min;
#X obj 481 124 s \$0-max;
#X obj 241 127 else/args -;
#X obj 241 172 route -base -range;
#X obj 554 329 array define scale_\$0;
#X f 22;
#X obj 369 383 s \$0-min;
#X obj 408 352 s \$0-max;
#X obj 369 319 unpack;
#X obj 302 246 else/slice 2;
#X obj 302 282 else/swap2;
#X obj 124 304 else/swap2;
#X obj 124 268 else/slice 1;
#X obj 188 359 v base_\$0;
#X obj 329 60 else/loadbanger 2;
#X msg 481 98 20000;
#X msg 445 113 20;
#X obj 534 97 v base_\$0;
#X msg 534 42 60;
#X obj 534 69 mtof;
#X obj 188 331 mtof;
#X obj 364 202 s \$0-list;
#X connect 3 0 4 0;
#X connect 4 0 12 0;
#X connect 4 1 9 0;
#X connect 4 2 21 0;
#X connect 8 0 6 0;
#X connect 8 1 7 0;
#X connect 9 0 10 0;
#X connect 9 1 10 1;
#X connect 10 0 4 0;
#X connect 10 1 8 0;
#X connect 11 0 4 0;
#X connect 11 1 20 0;
#X connect 12 0 11 0;
#X connect 12 1 11 1;
#X connect 14 0 3 0;
#X connect 14 1 16 0;
#X connect 14 1 15 0;
#X connect 14 1 18 0;
#X connect 15 0 2 0;
#X connect 16 0 1 0;
#X connect 18 0 19 0;
#X connect 19 0 17 0;
#X connect 20 0 13 0;
#X restore 159 109 pd init;
#X text 238 141 Part of ELSE \; https://github.com/porres/pd-else;
#X text 240 122 Alexandre Torres Porres (2023);
#N canvas 110 74 609 380 generate 0;
#X obj 57 44 inlet;
#X obj 390 167 list length;
#X obj 390 196 - 1;
#X obj 390 226 v nm1_\$0;
#X obj 390 140 else/buffer scale_\$0;
#N canvas 410 69 580 617 to-max 0;
#X obj 195 210 t b f, f 9;
#X obj 195 383 *;
#X obj 213 150 until;
#X msg 100 463 pause;
#X msg 195 104 reset;
#X obj 328 186 b;
#X obj 195 305 + 1;
#X obj 195 417 moses 20000;
#X obj 308 419 r \$0-max;
#X obj 333 317 expr pow(2 \, $f1) * base_\$0;
#X obj 195 328 tabread scale_\$0, f 8;
#X obj 195 253 v nm1_\$0;
#X obj 195 185 else/count;
#X obj 195 279 else/loop;
#X obj 109 39 inlet;
#X obj 195 536 outlet;
#X msg 195 489 append \$1;
#X obj 109 84 t b b;
#X floatatom 311 457 5 0 0 0 - - - 0;
#X connect 0 0 11 0;
#X connect 0 1 9 0;
#X connect 1 0 7 0;
#X connect 2 0 12 0;
#X connect 3 0 13 0;
#X connect 4 0 12 0;
#X connect 5 0 2 1;
#X connect 6 0 10 0;
#X connect 7 0 16 0;
#X connect 7 1 3 0;
#X connect 7 1 5 0;
#X connect 8 0 7 1;
#X connect 8 0 18 0;
#X connect 9 0 1 1;
#X connect 10 0 1 0;
#X connect 11 0 13 0;
#X connect 12 0 0 0;
#X connect 13 0 6 0;
#X connect 14 0 17 0;
#X connect 16 0 15 0;
#X connect 17 0 2 0;
#X connect 17 1 4 0;
#X restore 223 140 pd to-max;
#N canvas 412 23 654 678 to-min 0;
#X obj 128 21 inlet;
#X obj 221 625 outlet;
#X msg 227 281 \$1 0;
#X obj 227 117 until;
#X obj 148 491 *;
#X obj 75 71 b;
#X msg 235 152 reset;
#X obj 227 256 - 1;
#X obj 148 520 moses 20;
#X obj 221 406 v base_\$0;
#X obj 371 371 expr 1/pow(2 \, $f1) * base_\$0;
#X obj 246 471 r \$0-min;
#X obj 227 177 else/count;
#X obj 227 308 else/loop;
#X obj 227 340 expr scale_\$0[$f1] / scale_\$0[nm1_\$0], f 18;
#X obj 227 230 v nm1_\$0;
#X msg 221 549 prepend \$1;
#X obj 128 68 t b b;
#X obj 227 202 trigger bang float, f 21;
#X floatatom 255 502 5 0 0 0 - - - 0;
#X connect 0 0 17 0;
#X connect 2 0 13 0;
#X connect 3 0 12 0;
#X connect 4 0 8 0;
#X connect 5 0 3 1;
#X connect 6 0 12 0;
#X connect 7 0 2 0;
#X connect 8 0 5 0;
#X connect 8 1 16 0;
#X connect 9 0 16 0;
#X connect 10 0 4 1;
#X connect 11 0 8 1;
#X connect 11 0 19 0;
#X connect 12 0 18 0;
#X connect 13 0 14 0;
#X connect 14 0 4 0;
#X connect 15 0 7 0;
#X connect 16 0 1 0;
#X connect 17 0 3 0;
#X connect 17 1 6 0;
#X connect 17 1 9 0;
#X connect 18 0 15 0;
#X connect 18 1 10 0;
#X restore 140 140 pd to-min;
#X obj 223 242 list store;
#X obj 57 91 trigger bang bang bang bang list, f 48;
#X obj 223 306 outlet;
#X connect 0 0 8 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 4 0 1 0;
#X connect 5 0 7 0;
#X connect 6 0 7 0;
#X connect 7 0 9 0;
#X connect 8 0 7 0;
#X connect 8 1 6 0;
#X connect 8 2 5 0;
#X connect 8 3 7 1;
#X connect 8 4 4 0;
#X restore 72 219 pd generate;
#N canvas 122 319 480 321 route 0;
#X obj 72 45 inlet;
#X obj 279 150 s \$0-min;
#X obj 334 122 s \$0-max;
#X obj 210 178 v base_\$0;
#X obj 210 150 mtof;
#X obj 279 121 unpack;
#X obj 72 91 route list bang base range, f 40;
#X obj 72 244 outlet;
#X obj 131 136 r \$0-list;
#X obj 72 169 else/message;
#X connect 0 0 6 0;
#X connect 4 0 3 0;
#X connect 5 0 1 0;
#X connect 5 1 2 0;
#X connect 6 0 9 0;
#X connect 6 1 9 0;
#X connect 6 2 4 0;
#X connect 6 3 5 0;
#X connect 8 0 9 1;
#X connect 9 0 7 0;
#X restore 72 101 pd route;
#X connect 0 0 7 0;
#X connect 2 0 6 0;
#X connect 6 0 1 0;
#X connect 7 0 2 0;
