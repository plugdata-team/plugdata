#N canvas 432 28 677 670 12;
#X declare -path else;
#X obj 60 177 declare -path else;
#X obj 397 477 setdsp~;
#X obj 58 390 +~;
#X obj 58 610 v base_\$0;
#X floatatom 58 575 5 0 0 0 - - - 0;
#X obj 58 541 initmess 60;
#X obj 58 421 *~ 60;
#X text 103 420 (* 5 * 12);
#X obj 296 321 status~, f 13;
#X obj 296 358 trig2bang~;
#X obj 296 387 bng 19 250 50 0 empty empty empty 0 -10 0 12 #dfdfdf #000000 #000000;
#X obj 384 358 trig2bang~;
#X obj 384 387 bng 19 250 50 0 empty empty empty 0 -10 0 12 #dfdfdf #000000 #000000;
#X text 320 388 on;
#X text 409 388 off;
#X obj 58 487 numbox~ 6 12 100 #C0C0C4 #440008 10 0 0 0;
#X obj 58 354 numbox~ 6 12 100 #C0C0C4 #440008 10 0 0 0;
#X obj 58 453 expr~ int($v1 + base_\$0);
#X obj 275 214 numbox~ 6 12 100 #C0C0C4 #440008 10 0 0 0;
#X obj 275 174 randpulse2~ 2;
#X obj 275 251 *~;
#X obj 355 213 rand.i~ 30 127;
#X obj 275 283 numbox~ 6 12 100 #C0C0C4 #440008 10 0 0 0;
#X obj 58 260 rand.f~;
#X obj 58 307 *~ 1;
#X obj 126 266 hsl 120 19 0 1 0 0 empty empty empty -2 -10 0 12 #dfdfdf #000000 #000000 0 1;
#X obj 123 317 v pot_\$0;
#X floatatom 123 294 6 0 0 0 - - - 0;
#X obj 138 352 tgl 19 0 empty empty empty 0 -10 0 12 #dfdfdf #000000 #000000 0 1;
#X obj 138 380 expr~ $v1 * pot_\$0;
#X text 161 354 Unipolar;
#X obj 275 517 snapshot~;
#X obj 296 425 t b b;
#X obj 250 564 pack;
#X obj 171 527 snapshot~;
#X listbox 250 592 11 0 0 0 - - - 0;
#X obj 250 619 noteout;
#X text 149 266 attenuator;
#X obj 516 305 rescale~ 0 127;
#X obj 516 341 sig2float~;
#X obj 516 381 vsl 19 162 0 127 0 0 empty empty empty 0 -9 0 12 #dfdfdf #000000 #000000 0 1;
#X obj 516 270 osc~ 0.2;
#X text 498 170 For a simple control message \, a simpler conversion can be made asuch as below., f 18;
#X obj 516 568 ctlout 1 1;
#X text 21 15 We now reconstruct the last example and expand it a bit for a proper note out message. Now we have a toggle for setting it to a unipolar signal \, which we could do by simpling adding "1" \, but in this case we also have an attenuator potentiometer that adjusts the level of the CV. In the maximum range \, it is either -5v to +5v or 0 to +10v. The base value (the reference for 0 volts) is set by a 'base_\$0' variable. We now also need a gate signal that we'll use as note on and note off triggers. We have a random pulse generator with irregular tempo and the values for the velocity and pitch are also random. We convert the signal to MIDI with a simple [snapshot~] object. Note these values could come from a CV interface input via [adc~]., f 89;
#X connect 2 0 6 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 17 0;
#X connect 8 0 9 0;
#X connect 8 1 11 0;
#X connect 9 0 10 0;
#X connect 10 0 32 0;
#X connect 11 0 12 0;
#X connect 12 0 32 0;
#X connect 15 0 34 0;
#X connect 16 0 2 0;
#X connect 17 0 15 0;
#X connect 18 0 20 0;
#X connect 18 0 23 0;
#X connect 19 0 18 0;
#X connect 19 0 21 0;
#X connect 20 0 22 0;
#X connect 21 0 20 1;
#X connect 22 0 8 0;
#X connect 22 0 31 0;
#X connect 23 0 24 0;
#X connect 24 0 16 0;
#X connect 25 0 24 1;
#X connect 25 0 27 0;
#X connect 27 0 26 0;
#X connect 28 0 29 0;
#X connect 29 0 2 1;
#X connect 31 0 33 1;
#X connect 32 0 34 0;
#X connect 32 1 31 0;
#X connect 33 0 35 0;
#X connect 34 0 33 0;
#X connect 35 0 36 0;
#X connect 38 0 39 0;
#X connect 39 0 40 0;
#X connect 40 0 43 0;
#X connect 41 0 38 0;
