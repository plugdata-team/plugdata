#N canvas 359 55 966 638 12;
#X declare -path else;
#X obj 284 524 *~;
#X text 137 374 pitch;
#X obj 186 435 mtof;
#X text 139 386 MIDI;
#X text 158 461 Hz;
#X obj 186 486 osc~;
#X floatatom 186 461 5 0 0 0 - - - 0;
#X floatatom 244 380 5 0 0 0 - - - 0;
#X floatatom 302 381 5 0 0 0 - - - 0;
#X text 341 380 ms;
#X obj 247 342 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10 #dcdcdc #000000 #000000 0 1;
#X obj 186 339 bng 30 250 50 0 empty empty empty 17 7 0 10 #dcdcdc #000000 #000000;
#X obj 302 497 adsr~ 50 100 0.5 200;
#X obj 284 553 out~;
#X msg 186 379 69;
#X obj 186 408 makenote 127 1000;
#X text 306 362 duration;
#X text 281 341 velocity;
#X obj 579 537 *~;
#X obj 530 438 mtof;
#X text 505 467 Hz;
#X obj 530 503 osc~;
#X floatatom 530 468 5 0 0 0 - - - 0;
#X obj 530 410 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10 #dcdcdc #000000 #000000 0 256;
#X obj 597 410 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10 #dcdcdc #000000 #000000 0 256;
#X text 484 409 Pitch;
#X obj 597 501 adsr~ 50 100 0.5 200;
#X obj 597 460 / 127;
#X obj 579 567 out~;
#X obj 861 261 notein;
#X obj 530 289 keyboard 17 80 3 3 0 0 empty empty;
#X obj 791 16 declare -path else;
#X text 27 21 MIDI controllers send "Note" messages from key action. A "Note On" message is sent when a key is pressed \, and a "Note Off" when released., f 62;
#X text 27 67 Note messages need Pitch and Velocity values. For the Note On \, the velocity is the intensity of the note \, because the faster the key action was \, the more intense the note should be. A Note Off message also has a release velocity (the speed that you release the key) \, but nowadays Note Off messages are very rare and usually we just have a Note On message with a a velocity of 0 as a cue that the key was released!, f 62;
#X text 27 170 The native object [makenote] generates Note messages with Pitch and Velocity. A Note On message is represented with a velocity value greater than 0 \, and a velocity of 0 represents a Note Off message. The raw note MIDI data is in the range from 0 to 127 \, but Pd's [makenote] doesn't really care and can deal with any kind of float input! When it receives a MIDI pitch in the left inlet \, it schedules a Note Off. In this example \, [makenote]'s arguments initially set a velocity of 127 and schedules a note off after 1000 ms of the note on - but you can change this via its inlets., f 62;
#X floatatom 302 441 5 0 0 0 - - - 0;
#X text 493 204 In case you don't have a MIDI keyboard \, you can have some fun using the [keyboard] object from ELSE \, instead. Like the others \, it also represents Note Off messages with a velocity value of 0 \, and Note On otherwise!, f 62;
#X obj 530 381 unpack f f;
#X text 655 409 Velocity;
#X text 493 127 You could set a MIDI controller now if you have one and use [notein] to receive MIDI note information. To set your MIDI device \, go to "Pd => Preferences => MIDI". The [notein] object also represents Note On messages with velocity values greater than 0 \, and 0 velocity represents a Note Off., f 62;
#X obj 38 529 makenote2;
#X text 35 503 see also:;
#X text 341 440 <-- velocity;
#X text 35 563 A more versatile version of [makenote] from ELSE that also takes time input in beats., f 27;
#X text 493 48 This example uses the MIDI note information to set the frequency of [osc~] and trigger [adsr~]. In the context of MIDI values in the range of 0 to 127 \, we need [mtof] to convert the pitch to hertz., f 62;
#X connect 0 0 13 0;
#X connect 2 0 6 0;
#X connect 5 0 0 0;
#X connect 6 0 5 0;
#X connect 7 0 15 1;
#X connect 8 0 15 2;
#X connect 10 0 7 0;
#X connect 11 0 14 0;
#X connect 12 0 0 1;
#X connect 14 0 15 0;
#X connect 15 0 2 0;
#X connect 15 1 35 0;
#X connect 18 0 28 0;
#X connect 19 0 22 0;
#X connect 21 0 18 0;
#X connect 22 0 21 0;
#X connect 23 0 19 0;
#X connect 24 0 27 0;
#X connect 26 0 18 1;
#X connect 27 0 26 0;
#X connect 29 0 30 0;
#X connect 29 1 30 1;
#X connect 30 0 37 0;
#X connect 35 0 12 0;
#X connect 37 0 23 0;
#X connect 37 1 24 0;
